(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0061":function(t,e,r){"use strict";r.r(e);var i=r("5cd9"),s=r.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){r.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"0de9":function(t,e,r){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function s(){return"string"===typeof __channelId__&&__channelId__}function n(t,e){switch(i(e)){case"Function":return"function() { [native code] }";default:return e}}function o(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];console[t].apply(console,r)}function a(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=e.shift();if(s())return e.push(e.pop().replace("at ","uni-app:///")),console[o].apply(console,e);var a=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,n)+"---END:JSON---"}catch(s){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var r=i(t).toUpperCase();t="NUMBER"===r||"BOOLEAN"===r?"---BEGIN:"+r+"---"+t+"---END:"+r+"---":String(t)}return t})),c="";if(a.length>1){var u=a.pop();c=a.join("---COMMA---"),0===u.indexOf(" at ")?c+=u:c+="---COMMA---"+u}else c=a[0];console[o](c)}r.r(e),r.d(e,"log",(function(){return o})),r.d(e,"default",(function(){return a}))},4352:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[r("div",{staticClass:t._$s(1,"sc","game-body"),attrs:{_i:1}},[r("div",{staticClass:t._$s(2,"sc","heading"),attrs:{_i:2}},[r("text",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}}),r("div",{staticClass:t._$s(4,"sc","scores-container"),attrs:{_i:4}},[r("div",{staticClass:t._$s(5,"sc","score-container"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.score)))]),r("div",{staticClass:t._$s(6,"sc","best-container"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.highscore)))])])]),r("div",{staticClass:t._$s(7,"sc","above-game"),attrs:{_i:7}},[r("text",{staticClass:t._$s(8,"sc","game-intro"),attrs:{_i:8}}),r("text",{staticClass:t._$s(9,"sc","restart-button"),attrs:{_i:9},on:{click:t.restart}})]),r("div",{staticClass:t._$s(10,"sc","game-container"),attrs:{_i:10}},[r("div",{staticClass:t._$s(11,"sc","game-message"),class:t._$s(11,"c",t.won?"game-won":""),attrs:{_i:11}},[r("text",{staticClass:t._$s(12,"sc","over-msg"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.dataMsg)))]),r("div",{staticClass:t._$s(13,"sc","lower"),attrs:{_i:13}},[r("text",{staticClass:t._$s(14,"sc","retry-button"),attrs:{_i:14},on:{click:t.restart}})])]),r("div",{staticClass:t._$s(15,"sc","game-message"),class:t._$s(15,"c",t.over?"game-over":""),attrs:{_i:15}},[r("text",{staticClass:t._$s(16,"sc","over-msg"),attrs:{_i:16}},[t._v(t._$s(16,"t0-0",t._s(t.dataMsg)))]),r("div",{staticClass:t._$s(17,"sc","lower"),attrs:{_i:17}},[r("text",{staticClass:t._$s(18,"sc","retry-button"),attrs:{_i:18},on:{click:t.restart}})])]),r("div",{staticClass:t._$s(19,"sc","grid-container"),attrs:{_i:19},on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},t._l(t._$s(20,"f",{forItems:t.grids}),(function(e,i,s,n){return r("div",{key:t._$s(20,"f",{forIndex:s,key:"20-"+n}),staticClass:t._$s("20-"+n,"sc","grid-row"),attrs:{_i:"20-"+n}},t._l(t._$s("21-"+n,"f",{forItems:e}),(function(e,i,s,o){return r("div",{key:t._$s("21-"+n,"f",{forIndex:s,key:"21-"+n+"-"+o}),staticClass:t._$s("21-"+n+"-"+o,"sc","grid-cell"),attrs:{_i:"21-"+n+"-"+o}},[r("div",{class:t._$s("22-"+n+"-"+o,"c",null!=e?"tile tile-"+e.value:""),attrs:{_i:"22-"+n+"-"+o}},[t._$s("23-"+n+"-"+o,"i",e)?r("div",{staticClass:t._$s("23-"+n+"-"+o,"sc","tile-inner"),attrs:{_i:"23-"+n+"-"+o}},[t._v(t._$s("23-"+n+"-"+o,"t0-0",t._s(e.value)))]):t._e()])])})),0)})),0)])])])},s=[]},"4ea4":function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"5cd9":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={onLaunch:function(){t("log","App Launch"," at App.vue:4")},onShow:function(){t("log","App Show"," at App.vue:7")},onHide:function(){t("log","App Hide"," at App.vue:10")}};e.default=r}).call(this,r("0de9")["default"])},6693:function(t,e,r){"use strict";var i=r("4ea4"),s=i(r("9523"));r("c4be");var n=i(r("8bbf")),o=i(r("7afb"));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}n.default.config.productionTip=!1,o.default.mpType="app";var c=new n.default(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},o.default));c.$mount()},7037:function(t,e){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},"7afb":function(t,e,r){"use strict";r.r(e);var i=r("0061");for(var s in i)["default"].indexOf(s)<0&&function(t){r.d(e,t,(function(){return i[t]}))}(s);var n=r("f0c5"),o=Object(n["a"])(i["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);e["default"]=o.exports},8124:function(t,e,r){"use strict";r.r(e);var i=r("f5dc"),s=r.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){r.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"8bbf":function(t,e){t.exports=Vue},9523:function(t,e,r){var i=r("a395");t.exports=function(t,e,r){return e=i(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports["default"]=t.exports},a265:function(t,e){function r(t){this.size=t,this.cells=this.empty()}r.prototype={empty:function(){for(var t=[],e=0;e<this.size;e++)for(var r=t[e]=[],i=0;i<this.size;i++)r.push(null);return t},availableCells:function(){for(var t=[],e=0;e<this.size;e++)for(var r=0;r<this.size;r++)this.cells[e][r]||t.push({x:e,y:r});return t},cellsAvailable:function(){return!!this.availableCells().length},randomAvailableCell:function(){var t=this.availableCells();if(t.length)return t[Math.floor(Math.random()*t.length)]},insertTile:function(t){this.cells[t.x][t.y]=t},cellContent:function(t){return this.withinBounds(t)&&this.cells[t.x][t.y]||null},withinBounds:function(t){return t.x>=0&&t.x<this.size&&t.y>=0&&t.y<this.size},emptyCell:function(t){return!this.cellContent(t)},removeTile:function(t){this.cells[t.x][t.y]=null}},t.exports=r},a395:function(t,e,r){var i=r("7037")["default"],s=r("e50d");t.exports=function(t){var e=s(t,"string");return"symbol"===i(e)?e:String(e)},t.exports.__esModule=!0,t.exports["default"]=t.exports},c4be:function(t,e,r){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){throw r}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var i=uni.requireGlobal();ArrayBuffer=i.ArrayBuffer,Int8Array=i.Int8Array,Uint8Array=i.Uint8Array,Uint8ClampedArray=i.Uint8ClampedArray,Int16Array=i.Int16Array,Uint16Array=i.Uint16Array,Int32Array=i.Int32Array,Uint32Array=i.Uint32Array,Float32Array=i.Float32Array,Float64Array=i.Float64Array,BigInt64Array=i.BigInt64Array,BigUint64Array=i.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(r("c6c2").default)}))},c6c2:function(t,e,r){"use strict";r.r(e);var i=r("4352"),s=r("8124");for(var n in s)["default"].indexOf(n)<0&&function(t){r.d(e,t,(function(){return s[t]}))}(n);var o=r("f0c5"),a=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=a.exports},c86d:function(t,e){function r(t,e){this.x=t.x,this.y=t.y,this.value=e||2,this.previousPosition=null,this.mergedFrom=null}r.prototype={savePosition:function(){this.previousPosition={x:this.x,y:this.y}},updatePosition:function(t){this.x=t.x,this.y=t.y}},t.exports=r},e50d:function(t,e,r){var i=r("7037")["default"];t.exports=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!==i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},eceb:function(t,e,r){var i=r("a265"),s=r("c86d");function n(t){this.size=t,this.initBlockNum=2}n.prototype={setup:function(){return this.grid=new i(this.size),this.score=0,this.over=!1,this.won=!1,this.addStartTile(),this.grid.cells},addStartTile:function(){for(var t=0;t<this.initBlockNum;t++)this.addRandomTiles()},addRandomTiles:function(){if(this.grid.cellsAvailable()){var t=this.grid.randomAvailableCell(),e=Math.random()<.9?2:4,r=new s(t,e);this.grid.insertTile(r)}},restart:function(){return this.setup()},move:function(t){var e,r,i=this,n=this.getVector(t),o=this.buildTraversals(n),a=!1;if(i.prepareTiles(),o.x.forEach((function(t){o.y.forEach((function(o){if(e={x:t,y:o},r=i.grid.cellContent(e),r){var c=i.findFarthestTail(e,n),u=i.grid.cellContent(c.next);if(u&&u.value==r.value&&!u.mergedFrom){var l=new s(c.next,2*r.value);l.mergedFrom=[r,u],i.grid.insertTile(l),i.grid.removeTile(r),r.updatePosition(c.next),i.score+=l.value,2048==l.value&&(i.won=!0)}else i.moveTile(r,c.farthest);i.positionsEqual(e,r)||(a=!0)}}))})),a)return this.addRandomTiles(),this.movesAvailable()||(this.over=!0),this.actuate()},getVector:function(t){return{1:{x:0,y:1},2:{x:1,y:0},3:{x:0,y:-1},4:{x:-1,y:0}}[t]},buildTraversals:function(t){for(var e={x:[],y:[]},r=0;r<this.size;r++)e.x.push(r),e.y.push(r);return 1==t.x&&(e.x=e.x.reverse()),1==t.y&&(e.y=e.y.reverse()),e},prepareTiles:function(){for(var t,e=0;e<this.size;e++)for(var r=0;r<this.size;r++)t=this.grid.cells[e][r],t&&(t.mergedFrom=null,t.savePosition())},findFarthestTail:function(t,e){var r;do{r=t,t={x:r.x+e.x,y:r.y+e.y}}while(this.grid.withinBounds(t)&&this.grid.emptyCell(t));return{farthest:r,next:t}},moveTile:function(t,e){this.grid.cells[t.x][t.y]=null,this.grid.cells[e.x][e.y]=t,t.updatePosition(e)},positionsEqual:function(t,e){return t.x==e.x&&t.y==e.y},movesAvailable:function(){return this.grid.cellsAvailable()||this.tileMatchesAvailable()},tileMatchesAvailable:function(){for(var t,e=0;e<this.size;e++)for(var r=0;r<this.size;r++)if(t=this.grid.cellContent({x:e,y:r}),t)for(var i=1;i<=4;i++){var s=this.getVector(i),n={x:e+s.x,y:r+s.y},o=this.grid.cellContent(n);if(o&&o.value===t.value)return!0}},actuate:function(){return{grids:this.grid.cells,over:this.over,score:this.score,won:this.won}}},t.exports=n},f0c5:function(t,e,r){"use strict";function i(t,e,r,i,s,n,o,a,c,u){var l,f="function"===typeof t?t.options:t;if(c){f.components||(f.components={});var d=Object.prototype.hasOwnProperty;for(var h in c)d.call(c,h)&&!d.call(f.components,h)&&(f.components[h]=c[h])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(f.mixins||(f.mixins=[])).push(u)),e&&(f.render=e,f.staticRenderFns=r,f._compiled=!0),i&&(f.functional=!0),n&&(f._scopeId="data-v-"+n),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},f._ssrRegister=l):s&&(l=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(f.functional){f._injectStyles=l;var v=f.render;f.render=function(t,e){return l.call(e),v(t,e)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:f}}r.d(e,"a",(function(){return i}))},f5dc:function(t,e,r){"use strict";var i=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(r("a265"));var s=i(r("eceb")),n=(i(r("c86d")),i(r("8bbf"))),o={data:function(){return{score:0,highscore:0,grids:[],touchStartX:0,touchStartY:0,touchEndX:0,touchEndY:0,isMultiple:!1,won:!1,over:!1,dataMsg:"\u6e38\u620f\u7ed3\u675f"}},onLoad:function(){this.game_manager=new s.default(4),this.grids=this.game_manager.setup(),this.highscore=localStorage.getItem("highScore")||0},methods:{restart:function(){this.updateView({grids:this.game_manager.restart(),score:0,won:!1,over:!1})},updateView:function(t){1==t.over&&(this.dataMsg="\u6e38\u620f\u7ed3\u675f"),1==t.won&&(this.dataMsg="\u606d\u559c"),this.grids=t.grids,this.score=t.score,this.highscore=t.highScore,this.won=t.won,this.over=t.over;for(var e=0;e<this.grids.length;e++)n.default.set(this.grids,e,t.grids[e])},touchStart:function(t){if(this.isMultiple=t.touches.length>1,!this.isMultiple){var e=t.touches[0];this.touchStartX=e.clientX,this.touchStartY=e.clientY}},touchMove:function(t){var e=t.touches[0];this.touchEndX=e.clientX,this.touchEndY=e.clientY},touchEnd:function(t){if(!this.isMultiple){var e=this.touchEndX-this.touchStartX,r=this.touchEndY-this.touchStartY,i=Math.abs(e),s=Math.abs(r);if(Math.max(i,s)>10){var n=i>s?e>0?1:3:r>0?2:4,o=this.game_manager.move(n);o&&this.updateView({grids:o.grids,score:o.score,highScore:highscore,won:o.won,over:o.over})}}}}};e.default=o}},[["6693","app-config"]]]);